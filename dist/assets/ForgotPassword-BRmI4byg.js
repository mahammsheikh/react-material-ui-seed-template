import{u as h,ay as y,bL as v,bJ as A,j as e,az as w,F,W as C,X as k,a6 as u,B as d,Z as B,c as I,a5 as T,G as t,o as x,bK as D,T as c,D as E}from"./index-BEUoGpPe.js";import{A as P,a as W}from"./AuthCardWrapper-ip7b3SUA.js";import{F as L,c as M,b as S}from"./index.esm-Dno6FJaw.js";import{u as z}from"./useScriptRef-o9NxW3E7.js";import{A as H}from"./AuthFooter-CLhqfzeO.js";const R=({...n})=>{const l=h(),p=z(),j=y(),f=v(),{resetPassword:g}=A();return e.jsx(L,{initialValues:{email:"",submit:null},validationSchema:M().shape({email:S().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:async(s,{setErrors:o,setStatus:a,setSubmitting:i})=>{try{await g(s.email).then(()=>{a({success:!0}),i(!1),j(w({open:!0,message:"Check mail for reset password link",variant:"alert",alert:{color:"success"},close:!1})),setTimeout(()=>{f("/check-mail",{replace:!0})},1500)},r=>{a({success:!1}),o({submit:r.message}),i(!1)})}catch(r){console.error(r),p.current&&(a({success:!1}),o({submit:r.message}),i(!1))}},children:({errors:s,handleBlur:o,handleChange:a,handleSubmit:i,isSubmitting:r,touched:m,values:b})=>e.jsxs("form",{noValidate:!0,onSubmit:i,...n,children:[e.jsxs(F,{fullWidth:!0,error:!!(m.email&&s.email),sx:{...l.typography.customInput},children:[e.jsx(C,{htmlFor:"outlined-adornment-email-forgot",children:"Email Address / Username"}),e.jsx(k,{id:"outlined-adornment-email-forgot",type:"email",value:b.email,name:"email",onBlur:o,onChange:a,label:"Email Address / Username",inputProps:{}}),m.email&&s.email&&e.jsx(u,{error:!0,id:"standard-weight-helper-text-email-forgot",children:s.email})]}),s.submit&&e.jsx(d,{sx:{mt:3},children:e.jsx(u,{error:!0,children:s.submit})}),e.jsx(d,{sx:{mt:2},children:e.jsx(B,{children:e.jsx(I,{disableElevation:!0,disabled:r,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Send Mail"})})})]})})},$=()=>{const n=h(),l=T(n.breakpoints.down("md"));return e.jsx(P,{children:e.jsxs(t,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(t,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(W,{children:e.jsxs(t,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(t,{item:!0,sx:{mb:3},children:e.jsx(x,{to:"#","aria-label":"theme-logo",children:e.jsx(D,{})})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",justifyContent:"center",textAlign:"center",spacing:2,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(c,{color:n.palette.secondary.main,gutterBottom:!0,variant:l?"h3":"h2",children:"Forgot password?"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(c,{variant:"caption",fontSize:"16px",textAlign:"center",children:"Enter your email address below and we'll send you password reset OTP."})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(R,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(E,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(c,{component:x,to:"/login",variant:"subtitle1",sx:{textDecoration:"none"},children:"Already have an account?"})})})]})})})})}),e.jsx(t,{item:!0,xs:12,sx:{m:3,mt:1},children:e.jsx(H,{})})]})})};export{$ as default};
